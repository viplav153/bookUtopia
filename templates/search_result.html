
{% extends 'base.html' %}
{% block content %}


<link rel="stylesheet" href="/static/style.css">
<!-- <title>Geocoding Service</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8"> -->
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;ÃŸ
        padding: 0;
      }
      #floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }
    </style>
  </head>
<div>
    
     
    {% for item in book_result %}
   
    <p><img src="{{item.book_cover}}" /></p>
    <p>Title:<i>{{ item.title }}</i></p>
    <p>Author: {{ item.author[2:-2] }}</p>
    <p>ISBN: {{ item.ISBN }}</p>
     <button onclick="document.getElementById('id01').style.display='block'">Request Book</button>



        <!-- The Modal -->
        <div id="id01" class="modal">
         <!-- -->

          <!-- Modal Content -->
          <form class="modal-content animate" action="/request", method="POST">

            <input type="text" name="book_id" value="{{ item.book_id }}"">

            <div class="container">
              <label>Subject</label>
              <input type="text" id="lname" name="subject" placeholder="Please Enter Subject">

              
               <label>Duration </label>
                <select id="country" name="durantion">
                  <option value="1 week">1 week </option>
                  <option value="1 month">1 month </option>
                  <option value="2 month">2 month</option>
                </select>

               <label> Message: </label>
               <textarea id="subject" name="message" placeholder="Write something to the Owner.." style="height:200px"></textarea>

               <input type="submit" value="Submit">
            </div>

            <div class="container" style="background-color:#f1f1f1">
              <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
            </div>
          </form>


        </div>


        <script>
          //make test AJAX request, console.log book results
          // make static div with the information with one book
            // Get the modal
            
                // Get the modal
                var modal = document.getElementById('id01');

                // When the user clicks anywhere outside of the modal, close it
                window.onclick = function(event) {
                  if (event.target == modal) {
                    modal.style.display = "none";
                  }
                }

        </script>

        {% endfor %}
       
        
        <style type="text/css">
          html, body { height: 100%; margin: 0; padding: 0; }
          #map { height: 100%; }
        </style>
        

 </div>      



  <div id="map"></div>
  

  <script async defer src={{map_api}}></script>
 {% endblock %}
